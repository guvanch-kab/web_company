
<script src="pages/html/call_order_session.js"></script>

<div class="card card-success">
    <div class="card-header sargyt_formy">
        <h5 class="card-title">Sargyt formy</h5>
    </div>
    <div class="card-body">
        <input type="text" style="margin-bottom: 10px" class="form-control client_n" id="name" name="name" required placeholder="ady" autocomplete="off" />
        <input type="text" style="margin-bottom: 10px" class="form-control surname" id="surname" name="surname" required placeholder="familiasy" autocomplete="off" />
        <input type="email" style="margin-bottom: 10px" class="form-control email_add" id="sargyt_email" name="sargyt_email"  placeholder="email" autocomplete="off">
 
            <input type="number" id="phone" style="margin-bottom: 10px" class="form-control" name="phone" placeholder="65 x x x x x x " autocomplete="off"  maxlength="8" required>


        <select class="form-control" style="margin-bottom: 10px" name="select_region" id="select_region">
            <option>Asgabat</option>
            <option>Änew</option>
            <option>Gökdepe</option>
        </select>
        <textarea style="margin-bottom: 10px" name="home_address" id="home_address" class="form-control" rows="3"
            placeholder="öý salgysy ..."></textarea>
        <input type="date" class="form-control" min="<?=$today; ?>" id="date" name="date" required />
    </div>
    <!-- /.card-body -->
</div>
<div id="responseMessage" class="mt-3"></div>

<div class="order_total_sum" style="display: flex; justify-content: flex-end; padding: 10px 0px">
    <div class="cart-total" style="text-align: right">
        <h6 style="padding-bottom: 3px">
            Jemi baha: <span id="totalSum"></span> manat
        </h6>
        <button id="checkout-btn" class="btn btn-primary sargyt_et">Sargyt et</button>
    </div>
</div>

<script>
    // Değişkeni yalnızca tanımlanmamışsa tanımla
    if (!window.phoneInputField) {
        let phoneInputField = document.getElementById('phone');

        phoneInputField.addEventListener('input', function () {
            const maxLength = 8;
            const value = phoneInputField.value;

            // Girdi 8 haneden fazla ise, en fazla 8 haneyi korur
            if (value.length > maxLength) {
                phoneInputField.value = value.slice(0, maxLength);
            }
        });
    }
</script>

<script>
    $(document).ready(function() {
        const today = new Date().toISOString().split('T')[0];
        $('#date').attr('min', today); // Max özelliğini ayarla
    });
</script>

